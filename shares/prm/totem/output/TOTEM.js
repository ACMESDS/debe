Ext.data.JsonP.TOTEM({"tagname":"class","name":"TOTEM","autodetected":{},"files":[{"filename":"totem.js","href":"totem.html#TOTEM"},{"filename":"totem.js","href":"totem.html#TOTEM"},{"filename":"totem.js","href":"totem.html#TOTEM"},{"filename":"totem.md","href":"totem.md.html#TOTEM"}],"requires":["child-process","clusters","constants","dsvar","enum","fs","http","https","js2xmlparser","json2csv","mime","mysql","os","socket.io","socket.io-clusterhub","toobusy","xml2js"],"members":[{"name":"Function","tagname":"cfg","owner":"TOTEM","id":"cfg-Function","meta":{"private":true}},{"name":"IO","tagname":"cfg","owner":"TOTEM","id":"cfg-IO","meta":{"private":true}},{"name":"admitGuests","tagname":"cfg","owner":"TOTEM","id":"cfg-admitGuests","meta":{}},{"name":"admitRule","tagname":"cfg","owner":"TOTEM","id":"cfg-admitRule","meta":{}},{"name":"busycycle","tagname":"cfg","owner":"TOTEM","id":"cfg-busycycle","meta":{}},{"name":"byAction","tagname":"cfg","owner":"TOTEM","id":"cfg-byAction","meta":{}},{"name":"byActionTable","tagname":"cfg","owner":"TOTEM","id":"cfg-byActionTable","meta":{}},{"name":"byArea","tagname":"cfg","owner":"TOTEM","id":"cfg-byArea","meta":{}},{"name":"byTable","tagname":"cfg","owner":"TOTEM","id":"cfg-byTable","meta":{}},{"name":"byType","tagname":"cfg","owner":"TOTEM","id":"cfg-byType","meta":{}},{"name":"cache","tagname":"cfg","owner":"TOTEM","id":"cfg-cache","meta":{"private":true}},{"name":"config","tagname":"cfg","owner":"TOTEM","id":"cfg-config","meta":{}},{"name":"converters","tagname":"cfg","owner":"TOTEM","id":"cfg-converters","meta":{}},{"name":"cores","tagname":"cfg","owner":"TOTEM","id":"cfg-cores","meta":{}},{"name":"crud","tagname":"cfg","owner":"TOTEM","id":"cfg-crud","meta":{}},{"name":"delete","tagname":"cfg","owner":"TOTEM","id":"cfg-delete","meta":{}},{"name":"dsAttrs","tagname":"cfg","owner":"TOTEM","id":"cfg-dsAttrs","meta":{}},{"name":"encrypt","tagname":"cfg","owner":"TOTEM","id":"cfg-encrypt","meta":{}},{"name":"errors","tagname":"cfg","owner":"TOTEM","id":"cfg-errors","meta":{"private":true}},{"name":"execute","tagname":"cfg","owner":"TOTEM","id":"cfg-execute","meta":{}},{"name":"fetchers","tagname":"cfg","owner":"TOTEM","id":"cfg-fetchers","meta":{}},{"name":"guestProfile","tagname":"cfg","owner":"TOTEM","id":"cfg-guestProfile","meta":{}},{"name":"host","tagname":"cfg","owner":"TOTEM","id":"cfg-host","meta":{}},{"name":"insert","tagname":"cfg","owner":"TOTEM","id":"cfg-insert","meta":{}},{"name":"maxFiles","tagname":"cfg","owner":"TOTEM","id":"cfg-maxFiles","meta":{}},{"name":"mysql","tagname":"cfg","owner":"TOTEM","id":"cfg-mysql","meta":{}},{"name":"name","tagname":"cfg","owner":"TOTEM","id":"cfg-name","meta":{}},{"name":"nodeDivider","tagname":"cfg","owner":"TOTEM","id":"cfg-nodeDivider","meta":{}},{"name":"nofaults","tagname":"cfg","owner":"TOTEM","id":"cfg-nofaults","meta":{}},{"name":"notify","tagname":"cfg","owner":"TOTEM","id":"cfg-notify","meta":{}},{"name":"paths","tagname":"cfg","owner":"TOTEM","id":"cfg-paths","meta":{"private":true}},{"name":"port","tagname":"cfg","owner":"TOTEM","id":"cfg-port","meta":{}},{"name":"protect","tagname":"cfg","owner":"TOTEM","id":"cfg-protect","meta":{"private":true}},{"name":"proxy","tagname":"cfg","owner":"TOTEM","id":"cfg-proxy","meta":{}},{"name":"reqflags","tagname":"cfg","owner":"TOTEM","id":"cfg-reqflags","meta":{}},{"name":"retries","tagname":"cfg","owner":"TOTEM","id":"cfg-retries","meta":{}},{"name":"riddleMap","tagname":"cfg","owner":"TOTEM","id":"cfg-riddleMap","meta":{"private":true}},{"name":"riddles","tagname":"cfg","owner":"TOTEM","id":"cfg-riddles","meta":{}},{"name":"select","tagname":"cfg","owner":"TOTEM","id":"cfg-select","meta":{}},{"name":"server","tagname":"cfg","owner":"TOTEM","id":"cfg-server","meta":{"private":true}},{"name":"setContext","tagname":"cfg","owner":"TOTEM","id":"cfg-setContext","meta":{"private":true}},{"name":"site","tagname":"cfg","owner":"TOTEM","id":"cfg-site","meta":{}},{"name":"started","tagname":"cfg","owner":"TOTEM","id":"cfg-started","meta":{"private":true}},{"name":"stop","tagname":"cfg","owner":"TOTEM","id":"cfg-stop","meta":{}},{"name":"trust","tagname":"cfg","owner":"TOTEM","id":"cfg-trust","meta":{"private":true}},{"name":"update","tagname":"cfg","owner":"TOTEM","id":"cfg-update","meta":{}},{"name":"uploader","tagname":"cfg","owner":"TOTEM","id":"cfg-uploader","meta":{}},{"name":"validator","tagname":"cfg","owner":"TOTEM","id":"cfg-validator","meta":{}},{"name":"watch","tagname":"cfg","owner":"TOTEM","id":"cfg-watch","meta":{}},{"name":"","tagname":"method","owner":"TOTEM","id":"method-","meta":{"private":true}},{"name":"configService","tagname":"method","owner":"TOTEM","id":"method-configService","meta":{"private":true}},{"name":"connectService","tagname":"method","owner":"TOTEM","id":"method-connectService","meta":{"private":true}},{"name":"deleteDS","tagname":"method","owner":"TOTEM","id":"method-deleteDS","meta":{"private":true}},{"name":"executeDS","tagname":"method","owner":"TOTEM","id":"method-executeDS","meta":{"private":true}},{"name":"indexer","tagname":"method","owner":"TOTEM","id":"method-indexer","meta":{}},{"name":"insertDS","tagname":"method","owner":"TOTEM","id":"method-insertDS","meta":{"private":true}},{"name":"protectService","tagname":"method","owner":"TOTEM","id":"method-protectService","meta":{"private":true}},{"name":"startService","tagname":"method","owner":"TOTEM","id":"method-startService","meta":{"private":true}},{"name":"stopService","tagname":"method","owner":"TOTEM","id":"method-stopService","meta":{"private":true}},{"name":"thread","tagname":"method","owner":"TOTEM","id":"method-thread","meta":{"private":true}},{"name":"updateDS","tagname":"method","owner":"TOTEM","id":"method-updateDS","meta":{"private":true}}],"alternateClassNames":[],"aliases":{},"id":"class-TOTEM","extends":null,"singleton":null,"private":null,"mixins":[],"uses":[],"short_doc":"SourceForge\n    github\n    geointapps\n    gitlab\n\nTOTEM\n\nTOTEM replaces a slew of god-awful NodeJS middleware (like E...","component":false,"superclasses":[],"subclasses":[],"mixedInto":[],"parentMixins":[],"html":"<div><pre class=\"hierarchy\"><h4>Requires</h4><div class='dependency'>child-process</div><div class='dependency'>clusters</div><div class='dependency'>constants</div><div class='dependency'>dsvar</div><div class='dependency'>enum</div><div class='dependency'>fs</div><div class='dependency'>http</div><div class='dependency'>https</div><div class='dependency'>js2xmlparser</div><div class='dependency'>json2csv</div><div class='dependency'>mime</div><div class='dependency'>mysql</div><div class='dependency'>os</div><div class='dependency'>socket.io</div><div class='dependency'>socket.io-clusterhub</div><div class='dependency'>toobusy</div><div class='dependency'>xml2js</div><h4>Files</h4><div class='dependency'><a href='source/totem.html#TOTEM' target='_blank'>totem.js</a></div><div class='dependency'><a href='source/totem.html#TOTEM' target='_blank'>totem.js</a></div><div class='dependency'><a href='source/totem.html#TOTEM' target='_blank'>totem.js</a></div><div class='dependency'><a href='source/totem.md.html#TOTEM' target='_blank'>totem.md</a></div></pre><div class='doc-contents'><p><a href=\"https://sourceforge.net\">SourceForge</a>\n    <a href=\"https://github.com/acmesds/totem.git\">github</a>\n    <a href=\"https://git.geointapps.org/acmesds/totem\">geointapps</a>\n    <a href=\"https://gitlab.weat.nga.ic.gov/acmesds/totem.git\">gitlab</a></p>\n\n<h1>TOTEM</h1>\n\n<p>TOTEM replaces a slew of god-awful NodeJS middleware (like Express) by providing the\nfollowing selectable features:</p>\n\n<pre><code>+ routing methods for table, engine, and file objects\n+ denial-of-service protection\n+ web sockets for inter-client communications\n+ client profiles (e.g. banning, journalling, hawking, challenging and polling)\n+ account management by priviledged hawks and normal users\n+ hyper-threading in a master-worker or master-only relationship\n+ PKI channel encryption and authentication\n+ no-faulting (protected) run state\n+ transfer, indexing, saving and selective cacheing of static mime files\n+ per-client anti-bot challenges: profile challenges like (riddle), (card), (ids), (yesno), (rand)om, (bio)metric\n+ syncronized crude operations on mutiple endpoints\n+ database agnosticator (default MySQL-Cluster)\n+ poll files and services\n+ automattic server cert generation\n</code></pre>\n\n<p>TOTEM provides CRUD endpoints to synchronize dataset NODES:</p>\n\n<pre><code>(select) GET/ NODE $$ NODE ...\n(update) PUT / NODE $$ NODE ...\n(insert) POST / NODE $$ NODE ...\n(delete) DELETE / NODE $$ NODE ...\n</code></pre>\n\n<p>where a NODE:</p>\n\n<pre><code>DATASET.TYPE ? QUERY\nENGINE.TYPE ? QUERY\nAREA/PATH.TYPE ? QUERY\nFILE.TYPE ? QUERY\n</code></pre>\n\n<p>references a <a href=\"https://github.com/acmesds/flex\">FLEX dataset</a>, a <a href=\"https://github.com/acmesds/engine\">compute ENGINE</a>,\na static file, or a <a href=\"https://github.com/acmesds/reader\">READER file</a> to parse.  TOTEM provides\nseveral dataset TYPEs:</p>\n\n<pre><code>db | xml | csv | json\n</code></pre>\n\n<p>to specify how datasets are rendered when accessed at an endpoint.</p>\n\n<p>When started, TOTEM provides default service endpoints:</p>\n\n<pre><code>help, stop, alert, codes, ping, bit, config\n</code></pre>\n\n<p>and default data fetching and antibot protection endpoints:</p>\n\n<pre><code>wget, curl, http, riddle\n</code></pre>\n\n<h2>Installation</h2>\n\n<p>Clone from one of the repos.</p>\n\n<h2>Databases</h2>\n\n<p>openv.profiles Reads and populates when clients arrive<br/>\nopenv.sessions Reads and populates when client sessions are established<br/>\nopenv.riddles Builds on config() and reads when clients arrive<br/>\nopenv.apps Reads on config() to override TOTEM options and define site context parameters</p>\n\n<h2>Use</h2>\n\n<p>TOTEM is configured and started like this:</p>\n\n<pre><code>var TOTEM = require(\"../totem\").config({\n        key: value,                         // set key\n        \"key.key\": value,                   // indexed set\n        \"key.key.\": value,                  // indexed append\n        OBJECT: [ function (){}, ... ],     // add OBJECT prototypes \n        Function: function () {}            // add chained initializer callback\n        :\n        :\n    }, function (err) {\n    console.log( err ? \"something evil is lurking\" : \"look mom - Im running!\");\n});\n</code></pre>\n\n<p>where its configuration keys follow the <a href=\"https://github.com/acmesds/enum\">ENUM copy()</a> conventions and\nare described in its <a href=\"/shares/prm/totem/index.html\">PRM</a>.</p>\n\n<p>The examples below are from TOTEM's test.js unit tester.  See <a href=\"https://github.com/acmesds/debe\">DEBE</a>\nfor a far more complex use-case.  You may  also find Totem's <a href=\"https://github.com/acmesds/dsvar\">DSVAR</a>\nuseful, if you wish to learn more about its database agnosticator.</p>\n\n<h3>N1 - Just an interface</h3>\n\n<pre><code>var TOTEM = require(\"../totem\");\n\nTrace(\n    \"Im simply a Totem interface so Im not running any service\", {\n    default_fetcher_endpts: <a href=\"#!/api/TOTEM-cfg-byType\" rel=\"TOTEM-cfg-byType\" class=\"docClass\">TOTEM.byType</a>,\n    default_protect_mode: <a href=\"#!/api/TOTEM-cfg-nofaults\" rel=\"TOTEM-cfg-nofaults\" class=\"docClass\">TOTEM.nofaults</a>,\n    default_cores_used: <a href=\"#!/api/TOTEM-cfg-cores\" rel=\"TOTEM-cfg-cores\" class=\"docClass\">TOTEM.cores</a>\n});\n</code></pre>\n\n<h3>N2 - 2 cores in fault protection mode</h3>\n\n<pre><code>Trace(\n</code></pre>\n\n<p><code>I **will become** a Totem client running in fault protection mode, no database yet, but I am running\nwith 2 cores and the default endpoint routes</code> );</p>\n\n<pre><code>var TOTEM = require(\"../totem\").config({\n    name: \"iamwhoiam\",\n    nofaults: true,\n    cores: 2\n}, function (err) {\n    Trace(err || \"Ok - Im started with my own config parms and am ready to rock - but no DB!\");\n});\n</code></pre>\n\n<h3>N3 - No cores but a database</h3>\n\n<pre><code>var TOTEM = require(\"../totem\").config({\n        name: \"Totem\",\n\n        mysql: {\n            host: ENV.MYSQL_HOST,\n            user: ENV.MYSQL_USER,\n            pass: ENV.MYSQL_PASS\n        }\n    },  function (err) {                \n        Trace( err ||\n</code></pre>\n\n<p><code>I used the default openv.apps config options for the Nick=\"Totem\" app, and **have become** a Totem client\nwith no cores, but I do have mysql database from which I've derived my start()\noptions from openv.apps.nick = <a href=\"#!/api/TOTEM-cfg-name\" rel=\"TOTEM-cfg-name\" class=\"docClass\">TOTEM.name</a> = \"Totem\"</code>, {</p>\n\n<pre><code>            mysql_derived_site_parms: <a href=\"#!/api/TOTEM-cfg-site\" rel=\"TOTEM-cfg-site\" class=\"docClass\">TOTEM.site</a>\n        });\n    });\n</code></pre>\n\n<h3>N4 - Encrypted with some endpoints</h3>\n\n<pre><code>var TOTEM = require(\"../totem\").config({\n        mysql: {\n            host: ENV.MYSQL_HOST,\n            user: ENV.MYSQL_USER,\n            pass: ENV.MYSQL_PASS\n        },\n        byType: {\n            dothis: function dothis(req,res) {  //&lt; named handlers are shown in trace in console\n                res( \"123\" );\n\n                Trace({\n                    do_query: req.query\n                });\n            },\n\n            orthis: function orthis(req,res) {\n\n                if (req.query.x)\n                    res( [{x:req.query.x+1,y:req.query.x+2}] );\n                else\n                    res( new Error(\"We have a problem huston\") );\n\n                Trace(\n`Like dothis, but needs an ?x=value query`, {\n                    or_query: req.query,\n                    or_user: [req.client,req.group]\n                });\n            }\n        }\n    }, function (err) {\n        Trace( err || \n`Now stronger and **encrypted** -- try my https /dothis and /orthis endpoints.\nIve only requested 1 core, and Im unprotected, with a mysql database.  \nIf my client.pfx does not already exists, Totem will create the client.pfx \nand associated pems (public client.crt and private client.key).` , {\n            my_endpoints: <a href=\"#!/api/TOTEM-cfg-byType\" rel=\"TOTEM-cfg-byType\" class=\"docClass\">TOTEM.byType</a>\n        });\n    });\n</code></pre>\n\n<h3>N5 - Unencrypted but has an anti-bot shield</h3>\n\n<pre><code>var TOTEM = require(\"../totem\").config({\n    mysql: {\n        host: ENV.MYSQL_HOST,\n        user: ENV.MYSQL_USER,\n        pass: ENV.MYSQL_PASS\n    },\n\n    name: \"allmine\",\n\n    riddles: 20\n}, function (err) {\n    Trace( err ||\n</code></pre>\n\n<p><code>I am Totem client, with no cores but I do have mysql database and\nI have an anti-bot shield!!</code>, {\n            mysql_derived_parms: <a href=\"#!/api/TOTEM-cfg-site\" rel=\"TOTEM-cfg-site\" class=\"docClass\">TOTEM.site</a>\n        });\n    });</p>\n\n<h2>License</h2>\n\n<p><a href=\"LICENSE\">MIT</a></p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-cfg'>Config options</h3><div class='subsection'><div id='cfg-Function' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-Function' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-Function' class='name expandable'>Function</a> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'><p>ENUM will callback this initializer when the service is started</p>\n</div><div class='long'><p>ENUM will callback this initializer when the service is started</p>\n</div></div></div><div id='cfg-IO' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-IO' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-IO' class='name expandable'>IO</a> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'><p>Reserved for socket.io support to multiple clients</p>\n</div><div class='long'><p>Reserved for socket.io support to multiple clients</p>\n</div></div></div><div id='cfg-admitGuests' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-admitGuests' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-admitGuests' class='name expandable'>admitGuests</a> : <a href=\"#!/api/Boolean\" rel=\"Boolean\" class=\"docClass\">Boolean</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Enable to admit guest clients making https requests ...</div><div class='long'><p>Enable to admit guest clients making https requests</p>\n<p>Defaults to: <code>true</code></p></div></div></div><div id='cfg-admitRule' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-admitRule' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-admitRule' class='name expandable'>admitRule</a> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Null to admitRule all clients, or {X:\"required\", Y: \"optional\", ...} to admitRule clients with cert organizational\ncr...</div><div class='long'><p>Null to admitRule all clients, or {X:\"required\", Y: \"optional\", ...} to admitRule clients with cert organizational\ncredentials X.</p>\n</div></div></div><div id='cfg-busycycle' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-busycycle' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-busycycle' class='name expandable'>busycycle</a> : <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Server toobusy check period in seconds ...</div><div class='long'><p>Server toobusy check period in seconds</p>\n<p>Defaults to: <code>3</code></p></div></div></div><div id='cfg-byAction' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-byAction' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-byAction' class='name expandable'>byAction</a> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><span class=\"signature\"></span></div><div class='description'><div class='short'>By-action endpoint routers for accessing engines ...</div><div class='long'><p>By-action endpoint routers for accessing engines</p>\n<p>Defaults to: <code>{}</code></p></div></div></div><div id='cfg-byActionTable' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-byActionTable' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-byActionTable' class='name expandable'>byActionTable</a> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><span class=\"signature\"></span></div><div class='description'><div class='short'>By-action-table endpoint routers {action: {table: method(req,res), ...}, ... ...</div><div class='long'><p>By-action-table endpoint routers {action: {table: method(req,res), ...}, ... } for accessing virtual tables</p>\n</div></div></div><div id='cfg-byArea' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-byArea' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-byArea' class='name expandable'>byArea</a> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><span class=\"signature\"></span></div><div class='description'><div class='short'>By-area endpoint routers {area: method(req,res), ... ...</div><div class='long'><p>By-area endpoint routers {area: method(req,res), ... } for sending/cacheing files</p>\n<p>Defaults to: <code>{}</code></p></div></div></div><div id='cfg-byTable' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-byTable' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-byTable' class='name expandable'>byTable</a> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><span class=\"signature\"></span></div><div class='description'><div class='short'>By-table endpoint routers {table: method(req,res), ... ...</div><div class='long'><p>By-table endpoint routers {table: method(req,res), ... } for data fetchers, system and user management</p>\n</div></div></div><div id='cfg-byType' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-byType' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-byType' class='name expandable'>byType</a> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><span class=\"signature\"></span></div><div class='description'><div class='short'>By-type endpoint routers  {type: method(req,res), ... ...</div><div class='long'><p>By-type endpoint routers  {type: method(req,res), ... } for accessing dataset readers</p>\n<p>Defaults to: <code>{}</code></p></div></div></div><div id='cfg-cache' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-cache' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-cache' class='name expandable'>cache</a> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>{never: {&quot;base.js&quot;: 1, &quot;extjs.js&quot;: 1, &quot;jquery.js&quot;: 1, &quot;flow.js&quot;: 1, &quot;dojo.js&quot;: 1, &quot;games.js&quot;: 1, &quot;capture.js&quot;: 1, &quot;jade&quot;: 1, &quot;view&quot;: 1, &quot;gif&quot;: 1}, clients: {js: {}, css: {}, ico: {}}, &quot;socket.io&quot;: {js: {}}, certs: {}}</code></p></div></div></div><div id='cfg-config' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-config' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-config' class='name expandable'>config</a> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Configure and start the service with options and optional callback when started. ...</div><div class='long'><p>Configure and start the service with options and optional callback when started.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>opts</span> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><div class='sub-desc'><p>configuration options following ENUM.Copy() conventions</p>\n</div></li><li><span class='pre'>cb</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><div class='sub-desc'><p>callback(err) when service started</p>\n</div></li></ul></div></div></div><div id='cfg-converters' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-converters' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-converters' class='name expandable'>converters</a> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><span class=\"signature\"></span></div><div class='description'><div class='short'><p>Endpoint converters cb(ack data as string || error)</p>\n</div><div class='long'><p>Endpoint converters cb(ack data as string || error)</p>\n</div></div></div><div id='cfg-cores' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-cores' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-cores' class='name expandable'>cores</a> : <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Number of worker cores (0 for master-only startup) ...</div><div class='long'><p>Number of worker cores (0 for master-only startup)</p>\n<p>Defaults to: <code>0</code></p></div></div></div><div id='cfg-crud' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-crud' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-crud' class='name expandable'>crud</a> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><span class=\"signature\"></span></div><div class='description'><div class='short'>REST-to-CRUD translations ...</div><div class='long'><p>REST-to-CRUD translations</p>\n<p>Defaults to: <code>{GET: &quot;select&quot;, DELETE: &quot;delete&quot;, POST: &quot;insert&quot;, PUT: &quot;update&quot;}</code></p></div></div></div><div id='cfg-delete' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-delete' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-delete' class='name expandable'>delete</a> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><span class=\"signature\"></span></div><div class='description'><div class='short'>CRUDE (req,res) method to respond to a Totem request ...</div><div class='long'><p>CRUDE (req,res) method to respond to a Totem request</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>req</span> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><div class='sub-desc'><p>Totem request</p>\n</div></li><li><span class='pre'>res</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><div class='sub-desc'><p>Totem responder</p>\n</div></li></ul></div></div></div><div id='cfg-dsAttrs' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-dsAttrs' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-dsAttrs' class='name expandable'>dsAttrs</a> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Reserved for dataset attributes derived by DSVAR.config ...</div><div class='long'><p>Reserved for dataset attributes derived by DSVAR.config</p>\n<p>Defaults to: <code>{}</code></p></div></div></div><div id='cfg-encrypt' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-encrypt' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-encrypt' class='name expandable'>encrypt</a> : <a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Cert passphrase to start encrypted service ...</div><div class='long'><p>Cert passphrase to start encrypted service</p>\n<p>Defaults to: <code>&quot;&quot;</code></p></div></div></div><div id='cfg-errors' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-errors' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-errors' class='name expandable'>errors</a> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'><p>Error messages</p>\n</div><div class='long'><p>Error messages</p>\n</div></div></div><div id='cfg-execute' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-execute' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-execute' class='name expandable'>execute</a> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><span class=\"signature\"></span></div><div class='description'><div class='short'>CRUDE (req,res) method to respond to a Totem request ...</div><div class='long'><p>CRUDE (req,res) method to respond to a Totem request</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>req</span> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><div class='sub-desc'><p>Totem request</p>\n</div></li><li><span class='pre'>res</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><div class='sub-desc'><p>Totem responder</p>\n</div></li></ul></div></div></div><div id='cfg-fetchers' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-fetchers' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-fetchers' class='name expandable'>fetchers</a> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Data fetcher X is used when a GET on X is requested. ...</div><div class='long'><p>Data fetcher X is used when a GET on X is requested.  Fetchers feed data pulled from the\nTOTEM.paths.url[req.table] URL (formatted by an optional plugin context) to its callback:</p>\n\n<pre><code>    X: cb(url, res),\n    X: cb(...),\n    ...\n    plugin: {\n        var: ...\n        var: ...\n        ...\n        method: function () {...}\n        method: function () {...}\n        ...\n    }\n</code></pre>\n</div></div></div><div id='cfg-guestProfile' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-guestProfile' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-guestProfile' class='name expandable'>guestProfile</a> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Default guest profile (unencrypted or client profile not found) ...</div><div class='long'><p>Default guest profile (unencrypted or client profile not found)</p>\n<p>Defaults to: <code>{Banned: &quot;&quot;, QoS: 10000, Credit: 100, Charge: 0, LikeUs: 0, Challenge: 1, Client: &quot;guest@guest.org&quot;, User: &quot;guest@guest&quot;, Group: &quot;app&quot;, Repoll: true, Retries: 5, Timeout: 30, Message: &quot;Welcome guest - what is (riddle)?&quot;}</code></p></div></div></div><div id='cfg-host' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-host' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-host' class='name expandable'>host</a> : <a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Service host name ...</div><div class='long'><p>Service host name</p>\n<p>Defaults to: <code>&quot;localhost&quot;</code></p></div></div></div><div id='cfg-insert' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-insert' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-insert' class='name expandable'>insert</a> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><span class=\"signature\"></span></div><div class='description'><div class='short'>CRUDE (req,res) method to respond to a Totem request ...</div><div class='long'><p>CRUDE (req,res) method to respond to a Totem request</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>req</span> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><div class='sub-desc'><p>Totem request</p>\n</div></li><li><span class='pre'>res</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><div class='sub-desc'><p>Totem responder</p>\n</div></li></ul></div></div></div><div id='cfg-maxFiles' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-maxFiles' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-maxFiles' class='name expandable'>maxFiles</a> : <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Max files to index by the indexer() method (0 disables). ...</div><div class='long'><p>Max files to index by the indexer() method (0 disables).</p>\n<p>Defaults to: <code>100</code></p></div></div></div><div id='cfg-mysql' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-mysql' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-mysql' class='name expandable'>mysql</a> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><span class=\"signature\"></span></div><div class='description'><div class='short'><p>Mysql connection options:</p>\n\n<pre><code>host: name\nuser: name\npass: phrase\nsessions: number\n</code></pre>\n</div><div class='long'><p>Mysql connection options:</p>\n\n<pre><code>host: name\nuser: name\npass: phrase\nsessions: number\n</code></pre>\n</div></div></div><div id='cfg-name' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-name' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-name' class='name expandable'>name</a> : <a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Name of this service used to\n    1) derive site parms from mysql openv.apps by Nick=name\n    2) set mysql name.table ...</div><div class='long'><p>Name of this service used to\n    1) derive site parms from mysql openv.apps by Nick=name\n    2) set mysql name.table for guest clients,\n    3) identify server cert name.pfx file.\nIf the Nick=name is not located in openv.apps, the supplied config() options are not overridden.</p>\n<p>Defaults to: <code>&quot;Totem&quot;</code></p></div></div></div><div id='cfg-nodeDivider' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-nodeDivider' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-nodeDivider' class='name expandable'>nodeDivider</a> : <a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Node divider NODE $$ NODE .... ...</div><div class='long'><p>Node divider NODE $$ NODE ....  (\"\" disables dividing).</p>\n<p>Defaults to: <code>&quot;$$&quot;</code></p></div></div></div><div id='cfg-nofaults' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-nofaults' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-nofaults' class='name expandable'>nofaults</a> : <a href=\"#!/api/Boolean\" rel=\"Boolean\" class=\"docClass\">Boolean</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Enable/disable service protection mode ...</div><div class='long'><p>Enable/disable service protection mode</p>\n<p>Defaults to: <code>false</code></p></div></div></div><div id='cfg-notify' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-notify' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-notify' class='name expandable'>notify</a> : <a href=\"#!/api/Boolean\" rel=\"Boolean\" class=\"docClass\">Boolean</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Enable/disable tracing of data fetchers ...</div><div class='long'><p>Enable/disable tracing of data fetchers</p>\n<p>Defaults to: <code>true</code></p></div></div></div><div id='cfg-paths' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-paths' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-paths' class='name expandable'>paths</a> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Default paths to service files ...</div><div class='long'><p>Default paths to service files</p>\n<p>Defaults to: <code>{default: &quot;files/&quot;, url: {wget: &quot;http://localhost:8081?return=${req.query.file}&amp;opt=${plugin.ex1(req)+plugin.ex2}&quot;, curl: &quot;http://localhost:8081?return=${req.query.file}&amp;opt=${plugin.ex1(req)+plugin.ex2}&quot;, http: &quot;http://localhost:8081?return=${req.query.file}&amp;opt=${plugin.ex1(req)+plugin.ex2}&quot;, socketio: &quot;/socket.io/socket.io.js&quot;, riddler: &quot;/riddle&quot;}, certs: {truststore: &quot;certs/truststore/&quot;, server: &quot;certs/&quot;}, mysql: {users: &quot;SELECT 'user' AS Role, group_concat(DISTINCT dataset SEPARATOR ';') AS Contact FROM app.dblogs WHERE instr(dataset,'@')&quot;, derive: &quot;SELECT *, count(ID) AS Count FROM openv.apps WHERE ? LIMIT 0,1&quot;, record: &quot;INSERT INTO app.dblogs SET ? ON DUPLICATE KEY UPDATE Actions=Actions+1, Transfer=Transfer+?, Delay=Delay+?, Event=?&quot;, search: &quot;SELECT * FROM files HAVING Score &gt; 0.1&quot;, credit: &quot;SELECT * FROM files LEFT JOIN openv.profiles ON openv.profiles.Client = files.Client WHERE least(?) LIMIT 0,1&quot;, upsession: &quot;INSERT INTO openv.sessions SET ? ON DUPLICATE KEY UPDATE Connects=Connects+1,?&quot;, challenge: &quot;SELECT *,count(ID) as Count FROM openv.profiles WHERE least(?) LIMIT 0,1&quot;, guest: &quot;SELECT * FROM openv.profiles WHERE Client='guest' LIMIT 0,1&quot;, pocs: &quot;SELECT lower(Hawk) AS Role, group_concat(DISTINCT Client SEPARATOR ';') AS Contact FROM openv.roles GROUP BY hawk&quot;}, mime: {files: &quot;.&quot;, captcha: &quot;.&quot;, index: {files: &quot;indexer&quot;}}}</code></p></div></div></div><div id='cfg-port' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-port' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-port' class='name expandable'>port</a> : <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Service port number ...</div><div class='long'><p>Service port number</p>\n<p>Defaults to: <code>8080</code></p></div></div></div><div id='cfg-protect' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-protect' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-protect' class='name expandable'>protect</a> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Service protections when in nofaults mode ...</div><div class='long'><p>Service protections when in nofaults mode</p>\n<p>Defaults to: <code>{SIGUSR1: 1, SIGTERM: 1, SIGINT: 1, SIGPIPE: 1, SIGHUP: 1, SIGBREAK: 1, SIGWINCH: 1, SIGKILL: 1, SIGSTOP: 1}</code></p></div></div></div><div id='cfg-proxy' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-proxy' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-proxy' class='name expandable'>proxy</a> : <a href=\"#!/api/Boolean\" rel=\"Boolean\" class=\"docClass\">Boolean</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Enable if https server being proxied ...</div><div class='long'><p>Enable if https server being proxied</p>\n<p>Defaults to: <code>false</code></p></div></div></div><div id='cfg-reqflags' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-reqflags' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-reqflags' class='name expandable'>reqflags</a> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Options to parse request flags\n\n    traps: { flag:cb(query,flags), ...} // sets trap cb for a _flag=list to reorganiz...</div><div class='long'><p>Options to parse request flags</p>\n\n<pre><code>    traps: { flag:cb(query,flags), ...} // sets trap cb for a _flag=list to reorganize the query and flags hash,\n    edits: { flag:cb(list,data,req), ...} // sets data conversion cb for a _flag=list,\n    prefix:  \"_\"    // sets flag prefix\n</code></pre>\n<p>Defaults to: <code>{strips: {&quot;&quot;: 1, &quot;_&quot;: 1, leaf: 1, _dc: 1, id: 1, &quot;=&quot;: 1, &quot;?&quot;: 1, &quot;request&quot;: 1}, traps: {}, edits: {}, id: &quot;ID&quot;, prefix: &quot;_&quot;, trace: &quot;_trace&quot;}</code></p></div></div></div><div id='cfg-retries' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-retries' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-retries' class='name expandable'>retries</a> : <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Maximum number of retries the data fetcher will user ...</div><div class='long'><p>Maximum number of retries the data fetcher will user</p>\n<p>Defaults to: <code>5</code></p></div></div></div><div id='cfg-riddleMap' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-riddleMap' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-riddleMap' class='name expandable'>riddleMap</a> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Riddle digit-to-jpeg map (null to disable riddles) ...</div><div class='long'><p>Riddle digit-to-jpeg map (null to disable riddles)</p>\n<p>Defaults to: <code>{0: [&quot;10&quot;, &quot;210&quot;], 1: [&quot;30&quot;, &quot;60&quot;], 2: [&quot;50&quot;, &quot;160&quot;], 3: [&quot;70&quot;, &quot;100&quot;], 4: [&quot;20&quot;, &quot;90&quot;], 5: [&quot;00&quot;, &quot;110&quot;], 6: [&quot;130&quot;, &quot;180&quot;], 7: [&quot;150&quot;, &quot;290&quot;], 8: [&quot;170&quot;, &quot;310&quot;], 9: [&quot;40&quot;, &quot;190&quot;]}</code></p></div></div></div><div id='cfg-riddles' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-riddles' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-riddles' class='name expandable'>riddles</a> : <a href=\"#!/api/Number\" rel=\"Number\" class=\"docClass\">Number</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Number of riddles to protect site (0 to disable anti-bot) ...</div><div class='long'><p>Number of riddles to protect site (0 to disable anti-bot)</p>\n<p>Defaults to: <code>0</code></p></div></div></div><div id='cfg-select' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-select' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-select' class='name expandable'>select</a> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><span class=\"signature\"></span></div><div class='description'><div class='short'>CRUDE (req,res) method to respond to a Totem request ...</div><div class='long'><p>CRUDE (req,res) method to respond to a Totem request</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>req</span> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><div class='sub-desc'><p>Totem request</p>\n</div></li><li><span class='pre'>res</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><div class='sub-desc'><p>Totem responder</p>\n</div></li></ul></div></div></div><div id='cfg-server' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-server' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-server' class='name expandable'>server</a> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'><p>CRUDE (req,res) method to respond to Totem request</p>\n</div><div class='long'><p>CRUDE (req,res) method to respond to Totem request</p>\n</div></div></div><div id='cfg-setContext' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-setContext' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-setContext' class='name expandable'>setContext</a> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'><p>Sets the site context parameters available in <a href=\"#!/api/TOTEM-cfg-site\" rel=\"TOTEM-cfg-site\" class=\"docClass\">TOTEM.site</a>.</p>\n</div><div class='long'><p>Sets the site context parameters available in <a href=\"#!/api/TOTEM-cfg-site\" rel=\"TOTEM-cfg-site\" class=\"docClass\">TOTEM.site</a>.</p>\n</div></div></div><div id='cfg-site' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-site' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-site' class='name expandable'>site</a> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Site context extended by the mysql derived query when service starts ...</div><div class='long'><p>Site context extended by the mysql derived query when service starts</p>\n<p>Defaults to: <code>{}</code></p></div></div></div><div id='cfg-started' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-started' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-started' class='name expandable'>started</a> : <a href=\"#!/api/Date\" rel=\"Date\" class=\"docClass\">Date</a><span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'><p>totem start time</p>\n</div><div class='long'><p>totem start time</p>\n</div></div></div><div id='cfg-stop' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-stop' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-stop' class='name expandable'>stop</a> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><span class=\"signature\"></span></div><div class='description'><div class='short'><p>Stop the server.</p>\n</div><div class='long'><p>Stop the server.</p>\n</div></div></div><div id='cfg-trust' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-trust' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-trust' class='name expandable'>trust</a> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Trust store extened with certs in the certs.truststore folder when the service starts in encrypted mode ...</div><div class='long'><p>Trust store extened with certs in the certs.truststore folder when the service starts in encrypted mode</p>\n<p>Defaults to: <code>[]</code></p></div></div></div><div id='cfg-update' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-update' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-update' class='name expandable'>update</a> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><span class=\"signature\"></span></div><div class='description'><div class='short'>CRUDE (req,res) method to respond to a Totem request ...</div><div class='long'><p>CRUDE (req,res) method to respond to a Totem request</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>req</span> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><div class='sub-desc'><p>Totem request</p>\n</div></li><li><span class='pre'>res</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><div class='sub-desc'><p>Totem responder</p>\n</div></li></ul></div></div></div><div id='cfg-uploader' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-uploader' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-uploader' class='name expandable'>uploader</a> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><span class=\"signature\"></span></div><div class='description'><div class='short'><p>File uploader</p>\n</div><div class='long'><p>File uploader</p>\n</div></div></div><div id='cfg-validator' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-validator' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-validator' class='name expandable'>validator</a> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><span class=\"signature\"></span></div><div class='description'><div class='short'><p>Additional session validator(req,res) responds will null if client validated, otherwise\nresponds with an error.</p>\n</div><div class='long'><p>Additional session validator(req,res) responds will null if client validated, otherwise\nresponds with an error.</p>\n</div></div></div><div id='cfg-watch' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-watch' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-watch' class='name expandable'>watch</a> : Obect<span class=\"signature\"></span></div><div class='description'><div class='short'>Folder watching callbacks cb(path) ...</div><div class='long'><p>Folder watching callbacks cb(path)</p>\n<p>Defaults to: <code>{}</code></p></div></div></div></div></div><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-method-' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-method-' class='name expandable'></a>( <span class='pre'></span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Initialize TOTEM. ...</div><div class='long'><p>Initialize TOTEM.</p>\n</div></div></div><div id='method-configService' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-method-configService' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-method-configService' class='name expandable'>configService</a>( <span class='pre'>opts, cb</span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Configure and start this server. ...</div><div class='long'><p>Configure and start this server.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>opts</span> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><div class='sub-desc'><p>configuration options following the ENUM.Copy() conventions.</p>\n</div></li><li><span class='pre'>cb</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><div class='sub-desc'><p>callback() after service configured</p>\n</div></li></ul></div></div></div><div id='method-connectService' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-method-connectService' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-method-connectService' class='name expandable'>connectService</a>( <span class='pre'>cb</span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>If the TOTEM server already connected, inherit the server; otherwise\ndefine an the apprpriate http interface (https i...</div><div class='long'><p>If the TOTEM server already connected, inherit the server; otherwise\ndefine an the apprpriate http interface (https if encrypted,\nhttp if unencrypted), then start the server.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>cb</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><div class='sub-desc'><p>callback when done</p>\n</div></li></ul></div></div></div><div id='method-deleteDS' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-method-deleteDS' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-method-deleteDS' class='name expandable'>deleteDS</a>( <span class='pre'>req, res</span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>req</span> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><div class='sub-desc'><p>Totem's request</p>\n</div></li><li><span class='pre'>res</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><div class='sub-desc'><p>Totem's response callback</p>\n</div></li></ul></div></div></div><div id='method-executeDS' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-method-executeDS' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-method-executeDS' class='name expandable'>executeDS</a>( <span class='pre'>req, res</span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>req</span> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><div class='sub-desc'><p>Totem's request</p>\n</div></li><li><span class='pre'>res</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><div class='sub-desc'><p>Totem's response callback</p>\n</div></li></ul></div></div></div><div id='method-indexer' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-method-indexer' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-method-indexer' class='name expandable'>indexer</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>@config {Function}\nFile indexer ...</div><div class='long'><p>@config {Function}\nFile indexer</p>\n</div></div></div><div id='method-insertDS' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-method-insertDS' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-method-insertDS' class='name expandable'>insertDS</a>( <span class='pre'>req, res</span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>req</span> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><div class='sub-desc'><p>Totem's request</p>\n</div></li><li><span class='pre'>res</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><div class='sub-desc'><p>Totem's response callback</p>\n</div></li></ul></div></div></div><div id='method-protectService' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-method-protectService' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-method-protectService' class='name expandable'>protectService</a>( <span class='pre'>cb</span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Create the server's PKI certs (if they dont exist), then setup\nits master-worker urls and callback the service initia...</div><div class='long'><p>Create the server's PKI certs (if they dont exist), then setup\nits master-worker urls and callback the service initializer.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>cb</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><div class='sub-desc'><p>callback when done</p>\n</div></li></ul></div></div></div><div id='method-startService' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-method-startService' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-method-startService' class='name expandable'>startService</a>( <span class='pre'>server, cb</span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Attach the responder to this server then initialized. ...</div><div class='long'><p>Attach the responder to this server then initialized.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>server</span> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><div class='sub-desc'><p>HTTP/HTTP server</p>\n</div></li><li><span class='pre'>cb</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><div class='sub-desc'><p>callback(err) when service initialized.</p>\n</div></li></ul></div></div></div><div id='method-stopService' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-method-stopService' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-method-stopService' class='name expandable'>stopService</a>( <span class='pre'></span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Stop the server. ...</div><div class='long'><p>Stop the server.</p>\n</div></div></div><div id='method-thread' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-method-thread' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-method-thread' class='name expandable'>thread</a>( <span class='pre'>cb</span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Thread a new sql connection to a callback. ...</div><div class='long'><p>Thread a new sql connection to a callback.  Unless overridden, will default to the DSVAR thread method.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>cb</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><div class='sub-desc'><p>callback(sql connector)</p>\n</div></li></ul></div></div></div><div id='method-updateDS' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-method-updateDS' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-method-updateDS' class='name expandable'>updateDS</a>( <span class='pre'>req, res</span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>req</span> : <a href=\"#!/api/Object\" rel=\"Object\" class=\"docClass\">Object</a><div class='sub-desc'><p>Totem's request</p>\n</div></li><li><span class='pre'>res</span> : <a href=\"#!/api/Function\" rel=\"Function\" class=\"docClass\">Function</a><div class='sub-desc'><p>Totem's response callback</p>\n</div></li></ul></div></div></div></div></div></div></div>","meta":{}});