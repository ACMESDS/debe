Ext.data.JsonP.TOTEM({"tagname":"class","name":"TOTEM","autodetected":{},"files":[{"filename":"totem.md","href":"totem.md.html#TOTEM"},{"filename":"totem.js","href":"totem.html#TOTEM"},{"filename":"totem.js","href":"totem.html#TOTEM"},{"filename":"totem.js","href":"totem.html#TOTEM"}],"members":[{"name":"Function","tagname":"cfg","owner":"TOTEM","id":"cfg-Function","meta":{"private":true}},{"name":"IO","tagname":"cfg","owner":"TOTEM","id":"cfg-IO","meta":{"private":true}},{"name":"admitGuests","tagname":"cfg","owner":"TOTEM","id":"cfg-admitGuests","meta":{}},{"name":"admitRule","tagname":"cfg","owner":"TOTEM","id":"cfg-admitRule","meta":{}},{"name":"behindProxy","tagname":"cfg","owner":"TOTEM","id":"cfg-behindProxy","meta":{}},{"name":"busycycle","tagname":"cfg","owner":"TOTEM","id":"cfg-busycycle","meta":{}},{"name":"byAction","tagname":"cfg","owner":"TOTEM","id":"cfg-byAction","meta":{}},{"name":"byActionTable","tagname":"cfg","owner":"TOTEM","id":"cfg-byActionTable","meta":{}},{"name":"byArea","tagname":"cfg","owner":"TOTEM","id":"cfg-byArea","meta":{}},{"name":"byTable","tagname":"cfg","owner":"TOTEM","id":"cfg-byTable","meta":{}},{"name":"byType","tagname":"cfg","owner":"TOTEM","id":"cfg-byType","meta":{}},{"name":"cache","tagname":"cfg","owner":"TOTEM","id":"cfg-cache","meta":{"private":true}},{"name":"config","tagname":"cfg","owner":"TOTEM","id":"cfg-config","meta":{}},{"name":"cores","tagname":"cfg","owner":"TOTEM","id":"cfg-cores","meta":{}},{"name":"crud","tagname":"cfg","owner":"TOTEM","id":"cfg-crud","meta":{}},{"name":"delete","tagname":"cfg","owner":"TOTEM","id":"cfg-delete","meta":{}},{"name":"dogs","tagname":"cfg","owner":"TOTEM","id":"cfg-dogs","meta":{}},{"name":"dsAttrs","tagname":"cfg","owner":"TOTEM","id":"cfg-dsAttrs","meta":{}},{"name":"encrypt","tagname":"cfg","owner":"TOTEM","id":"cfg-encrypt","meta":{}},{"name":"errors","tagname":"cfg","owner":"TOTEM","id":"cfg-errors","meta":{"private":true}},{"name":"execute","tagname":"cfg","owner":"TOTEM","id":"cfg-execute","meta":{}},{"name":"fetchers","tagname":"cfg","owner":"TOTEM","id":"cfg-fetchers","meta":{}},{"name":"guestProfile","tagname":"cfg","owner":"TOTEM","id":"cfg-guestProfile","meta":{}},{"name":"host","tagname":"cfg","owner":"TOTEM","id":"cfg-host","meta":{}},{"name":"indexer","tagname":"cfg","owner":"TOTEM","id":"cfg-indexer","meta":{}},{"name":"insert","tagname":"cfg","owner":"TOTEM","id":"cfg-insert","meta":{}},{"name":"masterport","tagname":"cfg","owner":"TOTEM","id":"cfg-masterport","meta":{}},{"name":"maxFiles","tagname":"cfg","owner":"TOTEM","id":"cfg-maxFiles","meta":{}},{"name":"mysql","tagname":"cfg","owner":"TOTEM","id":"cfg-mysql","meta":{}},{"name":"name","tagname":"cfg","owner":"TOTEM","id":"cfg-name","meta":{}},{"name":"nodeDivider","tagname":"cfg","owner":"TOTEM","id":"cfg-nodeDivider","meta":{}},{"name":"nofaults","tagname":"cfg","owner":"TOTEM","id":"cfg-nofaults","meta":{}},{"name":"notify","tagname":"cfg","owner":"TOTEM","id":"cfg-notify","meta":{}},{"name":"paths","tagname":"cfg","owner":"TOTEM","id":"cfg-paths","meta":{"private":true}},{"name":"protect","tagname":"cfg","owner":"TOTEM","id":"cfg-protect","meta":{"private":true}},{"name":"reqFlags","tagname":"cfg","owner":"TOTEM","id":"cfg-reqFlags","meta":{}},{"name":"reqTypes","tagname":"cfg","owner":"TOTEM","id":"cfg-reqTypes","meta":{}},{"name":"retries","tagname":"cfg","owner":"TOTEM","id":"cfg-retries","meta":{}},{"name":"riddleMap","tagname":"cfg","owner":"TOTEM","id":"cfg-riddleMap","meta":{"private":true}},{"name":"riddles","tagname":"cfg","owner":"TOTEM","id":"cfg-riddles","meta":{}},{"name":"select","tagname":"cfg","owner":"TOTEM","id":"cfg-select","meta":{}},{"name":"server","tagname":"cfg","owner":"TOTEM","id":"cfg-server","meta":{"private":true}},{"name":"setContext","tagname":"cfg","owner":"TOTEM","id":"cfg-setContext","meta":{"private":true}},{"name":"site","tagname":"cfg","owner":"TOTEM","id":"cfg-site","meta":{}},{"name":"started","tagname":"cfg","owner":"TOTEM","id":"cfg-started","meta":{"private":true}},{"name":"stop","tagname":"cfg","owner":"TOTEM","id":"cfg-stop","meta":{}},{"name":"trust","tagname":"cfg","owner":"TOTEM","id":"cfg-trust","meta":{"private":true}},{"name":"update","tagname":"cfg","owner":"TOTEM","id":"cfg-update","meta":{}},{"name":"uploader","tagname":"cfg","owner":"TOTEM","id":"cfg-uploader","meta":{}},{"name":"validator","tagname":"cfg","owner":"TOTEM","id":"cfg-validator","meta":{}},{"name":"watch","tagname":"cfg","owner":"TOTEM","id":"cfg-watch","meta":{}},{"name":"workerport","tagname":"cfg","owner":"TOTEM","id":"cfg-workerport","meta":{}},{"name":"Initialize","tagname":"method","owner":"TOTEM","id":"method-Initialize","meta":{"private":true}},{"name":"configService","tagname":"method","owner":"TOTEM","id":"method-configService","meta":{"private":true}},{"name":"connectService","tagname":"method","owner":"TOTEM","id":"method-connectService","meta":{"private":true}},{"name":"deleteDS","tagname":"method","owner":"TOTEM","id":"method-deleteDS","meta":{"private":true}},{"name":"executeDS","tagname":"method","owner":"TOTEM","id":"method-executeDS","meta":{"private":true}},{"name":"insertDS","tagname":"method","owner":"TOTEM","id":"method-insertDS","meta":{"private":true}},{"name":"protectService","tagname":"method","owner":"TOTEM","id":"method-protectService","meta":{"private":true}},{"name":"startService","tagname":"method","owner":"TOTEM","id":"method-startService","meta":{"private":true}},{"name":"stopService","tagname":"method","owner":"TOTEM","id":"method-stopService","meta":{"private":true}},{"name":"tag","tagname":"method","owner":"TOTEM","id":"method-tag","meta":{}},{"name":"thread","tagname":"method","owner":"TOTEM","id":"method-thread","meta":{}},{"name":"updateDS","tagname":"method","owner":"TOTEM","id":"method-updateDS","meta":{"private":true}},{"name":"watchFile","tagname":"method","owner":"TOTEM","id":"method-watchFile","meta":{"private":true}}],"alternateClassNames":[],"aliases":{},"id":"class-TOTEM","extends":null,"singleton":null,"private":null,"mixins":[],"requires":["child-process","clusters","constants","enum","fs","http","https","js2xmlparser","jsdb","json2csv","mime","mysql","os","socket.io","socket.io-clusterhub","toobusy","toobusy-js","xml2js"],"uses":[],"short_doc":"SourceForge\n    github\n    geointapps\n    gitlab\n\nTOTEM\n\nTOTEM replaces a slew of god-awful NodeJS middleware (like E...","component":false,"superclasses":[],"subclasses":[],"mixedInto":[],"parentMixins":[],"html":"<div><pre class=\"hierarchy\"><h4>Requires</h4><div class='dependency'>child-process</div><div class='dependency'>clusters</div><div class='dependency'>constants</div><div class='dependency'>enum</div><div class='dependency'>fs</div><div class='dependency'>http</div><div class='dependency'>https</div><div class='dependency'>js2xmlparser</div><div class='dependency'>jsdb</div><div class='dependency'>json2csv</div><div class='dependency'>mime</div><div class='dependency'>mysql</div><div class='dependency'>os</div><div class='dependency'>socket.io</div><div class='dependency'>socket.io-clusterhub</div><div class='dependency'>toobusy</div><div class='dependency'>toobusy-js</div><div class='dependency'>xml2js</div><h4>Files</h4><div class='dependency'><a href='source/totem.md.html#TOTEM' target='_blank'>totem.md</a></div><div class='dependency'><a href='source/totem.html#TOTEM' target='_blank'>totem.js</a></div><div class='dependency'><a href='source/totem.html#TOTEM' target='_blank'>totem.js</a></div><div class='dependency'><a href='source/totem.html#TOTEM' target='_blank'>totem.js</a></div></pre><div class='doc-contents'><p><a href=\"https://sourceforge.net\">SourceForge</a>\n    <a href=\"https://github.com/acmesds/totem.git\">github</a>\n    <a href=\"https://git.geointapps.org/acmesds/totem\">geointapps</a>\n    <a href=\"https://gitlab.weat.nga.ic.gov/acmesds/totem.git\">gitlab</a></p>\n\n<h1>TOTEM</h1>\n\n<p>TOTEM replaces a slew of god-awful NodeJS middleware (like Express) by providing the\nfollowing selectable features:</p>\n\n<pre><code>+ routing methods for table, engine, and file objects\n+ denial-of-service protection\n+ web sockets for inter-client communications\n+ client profiles (e.g. banning, journalling, hawking, challenging and polling)\n+ account management by priviledged hawks and normal users\n+ hyper-threading in a master-worker or master-only relationship\n+ PKI channel encryption and authentication\n+ no-faulting (protected) run state\n+ transfer, indexing, saving and selective cacheing of static mime files\n+ per-client antibot challenges: profile challenges like (riddle), (card), (ids), (yesno), (rand)om, (bio)metric\n+ syncronized crude operations on mutiple endpoints\n+ database agnosticator (default MySQL-Cluster)\n+ poll files and services\n+ automattic server cert generation\n</code></pre>\n\n<p>As documented in its api, TOTEM provides ENDPOINTs:</p>\n\n<pre><code>(select) GET     /NODE $$ NODE ...\n(update) PUT     /NODE $$ NODE ...\n(insert) POST    /NODE $$ NODE ...\n(delete) DELETE /NODE $$ NODE ...\n</code></pre>\n\n<p> to access a NODE:</p>\n\n<pre><code>DATASET.TYPE ? QUERY ? QUERY ...\nENGINE.TYPE ? QUERY ? QUERY ...\nFILEPATH.TYPE ? QUERY ? QUERY ...\nCOMMAND.TYPE ? QUERY ? QUERY ...\n</code></pre>\n\n<p>using an optional QUERY:</p>\n\n<pre><code>KEY=VALUE &amp; EXPRESSION ...\n</code></pre>\n\n<p>where the TYPE will format data:</p>\n\n<pre><code>KEY=VALUE &amp; EXPRESSION ...\n</code></pre>\n\n<p>TOTEM provides default TYPEs to format data:</p>\n\n<pre><code>db | xml | csv | json\n</code></pre>\n\n<p>If TOTEM was configured for antibot support, TOTEM will provide a <em>riddle</em> endpoint for clients to validate themselves.</p>\n\n<h2>Installation</h2>\n\n<p>Clone from one of the repos.</p>\n\n<h2>Databases</h2>\n\n<p>openv.profiles Reads and populates when clients arrive<br/>\nopenv.sessions Reads and populates when client sessions are established<br/>\nopenv.riddles Builds on config() and reads when clients arrive<br/>\nopenv.apps Reads on config() to override TOTEM options and define site context parameters</p>\n\n<h2>Use</h2>\n\n<p>TOTEM is configured and started like this:</p>\n\n<pre><code>var TOTEM = require(\"../totem\").config({\n        key: value,                         // set key\n        \"key.key\": value,                   // indexed set\n        \"key.key.\": value,                  // indexed append\n        OBJECT: [ function (){}, ... ],     // add OBJECT prototypes \n        Function: function () {}            // add chained initializer callback\n        :\n        :\n    }, function (err) {\n    console.log( err ? \"something evil is lurking\" : \"look mom - Im running!\");\n});\n</code></pre>\n\n<p>where its configuration keys follow the <a href=\"https://github.com/acmesds/enum\">ENUM copy()</a> conventions and\nare described in its <a href=\"/shares/prm/totem/index.html\">PRM</a>.</p>\n\n<p>The examples below are from TOTEM's test.js unit tester.  See <a href=\"https://github.com/acmesds/debe\">DEBE</a>\nfor a far more complex use-case.  You may  also find Totem's <a href=\"https://github.com/acmesds/dsvar\">DSVAR</a>\nuseful, if you wish to learn more about its database agnosticator.</p>\n\n<h3>N1 - Just an interface</h3>\n\n<pre><code>var TOTEM = require(\"../totem\");\n\nTrace({\n    msg: \"Im simply a Totem interface so Im not even running as a service\", \n    default_fetcher_endpts: <a href=\"#!/api/TOTEM-cfg-byTable\" rel=\"TOTEM-cfg-byTable\" class=\"docClass\">TOTEM.byTable</a>,\n    default_protect_mode: TOTEM.faultless,\n    default_cores_used: <a href=\"#!/api/TOTEM-cfg-cores\" rel=\"TOTEM-cfg-cores\" class=\"docClass\">TOTEM.cores</a>\n});\n</code></pre>\n\n<h3>N2 - Simple running service</h3>\n\n<pre><code>var TOTEM = require(\"../totem\").config({\n    name: \"iamwhoiam\",\n    faultless: true,\n    cores: 2\n}, function (err) {\n\n    Trace( err || \n        `I'm a Totem service running in fault protection mode, no database, no UI; but I am running\n        with 2 cores and the default endpoint routes` );\n\n});\n</code></pre>\n\n<h3>N3 - Running service with a database</h3>\n\n<pre><code>var TOTEM = require(\"../totem\").config({\n    name: \"Totem\",\n\n    mysql: {\n        host: ENV.MYSQL_HOST,\n        user: ENV.MYSQL_USER,\n        pass: ENV.MYSQL_PASS\n    }\n},  function (err) {                \n    Trace( err ||\n        `I'm a Totem service with no cores. I do, however, now have a mysql database from which I've derived \n        my startup options (see the openv.apps table for the Nick=\"Totem\").  \n        No endpoints to speak off (execept for the standard wget, riddle, etc) but you can hit \"/files/\" to index \n        these files. `\n    );\n});\n</code></pre>\n\n<h3>N4 - Custom endpoints</h3>\n\n<pre><code>var TOTEM = require(\"../totem\").config({\n    mysql: {\n        host: ENV.MYSQL_HOST,\n        user: ENV.MYSQL_USER,\n        pass: ENV.MYSQL_PASS\n    },\n    byTable: {\n        dothis: function dothis(req,res) {  //&lt; named handlers are shown in trace in console\n            res( \"123\" );\n\n            Trace({\n                do_query: req.query\n            });\n        },\n\n        dothat: function dothat(req,res) {\n\n            if (req.query.x)\n                res( [{x:req.query.x+1,y:req.query.x+2}] );\n            else\n                res( new Error(\"We have a problem huston\") );\n\n            Trace({\n                msg: `Like dothis, but needs an ?x=value query`, \n                or_query: req.query,\n                or_user: [req.client,req.group]\n            });\n        }\n    }\n}, function (err) {\n    Trace( err || {\n        msg:\n            `As always, if the openv.apps Encrypt is set for the Nick=\"Totem\" app, this service is now **encrypted** [*]\n            and has https (vs http) endpoints, here /dothis and /dothat endpoints.  Ive only requested only 1 worker (\n            aka core), Im running unprotected, and have a mysql database.  \n            [*] If my NICK.pfx does not already exists, Totem will create its password protected NICK.pfx cert from the\n            associated public NICK.crt and private NICK.key certs it creates.`,\n        my_endpoints: <a href=\"#!/api/TOTEM-cfg-byTable\" rel=\"TOTEM-cfg-byTable\" class=\"docClass\">TOTEM.byTable</a>\n    });\n});\n</code></pre>\n\n<h3>N5 - Running antibot protection</h3>\n\n<pre><code>var TOTEM = require(\"../totem\").config({\n    mysql: {\n        host: ENV.MYSQL_HOST,\n        user: ENV.MYSQL_USER,\n        pass: ENV.MYSQL_PASS\n    },\n\n    name: \"allmine\",\n\n    riddles: 20\n}, function (err) {\n    Trace( err || {\n        msg:\n            `I am Totem client, with no cores but I do have mysql database and I have an anti-bot shield!!  Anti-bot\n            shields require a Encrypted service, and a UI (like that provided by DEBE) to be of any use.`, \n        mysql_derived_parms: <a href=\"#!/api/TOTEM-cfg-site\" rel=\"TOTEM-cfg-site\" class=\"docClass\">TOTEM.site</a>\n    });\n});\n</code></pre>\n\n<h2>License</h2>\n\n<p><a href=\"LICENSE\">MIT</a></p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-cfg'>Config options</h3><div class='subsection'><div id='cfg-Function' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-Function' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-Function' class='name expandable'>Function</a> : Object<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'><p>ENUM will callback this initializer when the service is started</p>\n</div><div class='long'><p>ENUM will callback this initializer when the service is started</p>\n</div></div></div><div id='cfg-IO' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-IO' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-IO' class='name expandable'>IO</a> : Object<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'><p>Reserved for socket.io support to multiple clients</p>\n</div><div class='long'><p>Reserved for socket.io support to multiple clients</p>\n</div></div></div><div id='cfg-admitGuests' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-admitGuests' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-admitGuests' class='name expandable'>admitGuests</a> : Boolean<span class=\"signature\"></span></div><div class='description'><div class='short'>Enable to admit guest clients making https requests ...</div><div class='long'><p>Enable to admit guest clients making https requests</p>\n<p>Defaults to: <code>true</code></p></div></div></div><div id='cfg-admitRule' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-admitRule' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-admitRule' class='name expandable'>admitRule</a> : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Null to admitRule all clients, or {X:\"required\", Y: \"optional\", ...} to admitRule clients with cert organizational\ncr...</div><div class='long'><p>Null to admitRule all clients, or {X:\"required\", Y: \"optional\", ...} to admitRule clients with cert organizational\ncredentials X.</p>\n</div></div></div><div id='cfg-behindProxy' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-behindProxy' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-behindProxy' class='name expandable'>behindProxy</a> : Boolean<span class=\"signature\"></span></div><div class='description'><div class='short'>Enable if https server being proxied ...</div><div class='long'><p>Enable if https server being proxied</p>\n<p>Defaults to: <code>false</code></p></div></div></div><div id='cfg-busycycle' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-busycycle' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-busycycle' class='name expandable'>busycycle</a> : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Server toobusy check period in seconds ...</div><div class='long'><p>Server toobusy check period in seconds</p>\n<p>Defaults to: <code>5000</code></p></div></div></div><div id='cfg-byAction' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-byAction' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-byAction' class='name expandable'>byAction</a> : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>By-action endpoint routers for accessing engines ...</div><div class='long'><p>By-action endpoint routers for accessing engines</p>\n<p>Defaults to: <code>{}</code></p></div></div></div><div id='cfg-byActionTable' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-byActionTable' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-byActionTable' class='name expandable'>byActionTable</a> : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>By-action-table endpoint routers {action: {table: method(req,res), ...}, ... ...</div><div class='long'><p>By-action-table endpoint routers {action: {table: method(req,res), ...}, ... } for accessing virtual tables</p>\n<p>Defaults to: <code>{select: {}, delete: {}, update: {}, insert: {}, execute: {}}</code></p></div></div></div><div id='cfg-byArea' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-byArea' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-byArea' class='name expandable'>byArea</a> : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>By-area endpoint routers {area: method(req,res), ... ...</div><div class='long'><p>By-area endpoint routers {area: method(req,res), ... } for sending/cacheing files</p>\n<p>Defaults to: <code>{}</code></p></div></div></div><div id='cfg-byTable' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-byTable' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-byTable' class='name expandable'>byTable</a> : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>By-table endpoint routers {table: method(req,res), ... ...</div><div class='long'><p>By-table endpoint routers {table: method(req,res), ... } for data fetchers, system and user management</p>\n</div></div></div><div id='cfg-byType' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-byType' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-byType' class='name expandable'>byType</a> : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>By-type endpoint routers  {type: method(req,res), ... ...</div><div class='long'><p>By-type endpoint routers  {type: method(req,res), ... } for accessing dataset readers</p>\n<p>Defaults to: <code>{}</code></p></div></div></div><div id='cfg-cache' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-cache' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-cache' class='name expandable'>cache</a> : Object<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>{never: {&quot;base.js&quot;: 1, &quot;extjs.js&quot;: 1, &quot;jquery.js&quot;: 1, &quot;flow.js&quot;: 1, &quot;dojo.js&quot;: 1, &quot;games.js&quot;: 1, &quot;capture.js&quot;: 1, &quot;jade&quot;: 1, &quot;view&quot;: 1, &quot;gif&quot;: 1}, clients: {js: {}, css: {}, ico: {}}, &quot;socket.io&quot;: {js: {}}, learnedTables: true, certs: {}}</code></p></div></div></div><div id='cfg-config' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-config' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-config' class='name expandable'>config</a> : Function<span class=\"signature\"></span></div><div class='description'><div class='short'>Configure and start the service with options and optional callback when started. ...</div><div class='long'><p>Configure and start the service with options and optional callback when started.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>opts</span> : Object<div class='sub-desc'><p>configuration options following ENUM.Copy() conventions</p>\n</div></li><li><span class='pre'>cb</span> : Function<div class='sub-desc'><p>callback(err) when service started</p>\n</div></li></ul></div></div></div><div id='cfg-cores' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-cores' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-cores' class='name expandable'>cores</a> : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Number of worker cores (0 for master-only). ...</div><div class='long'><p>Number of worker cores (0 for master-only).  If cores>0, masterport should != workPort, master becomes HTTP server, and workers\nbecome HTTP/HTTPS depending on encrypt option.  In the coreless configuration, master become HTTP/HTTPS depending on\nencrypt option, and there are no workers.  In this way, a client can access stateless workers on the workerport, and stateful\nworkers via the masterport.</p>\n<p>Defaults to: <code>0</code></p></div></div></div><div id='cfg-crud' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-crud' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-crud' class='name expandable'>crud</a> : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>REST-to-CRUD translations ...</div><div class='long'><p>REST-to-CRUD translations</p>\n<p>Defaults to: <code>{GET: &quot;select&quot;, DELETE: &quot;delete&quot;, POST: &quot;insert&quot;, PUT: &quot;update&quot;}</code></p></div></div></div><div id='cfg-delete' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-delete' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-delete' class='name expandable'>delete</a> : Function<span class=\"signature\"></span></div><div class='description'><div class='short'>CRUDE (req,res) method to respond to a Totem request ...</div><div class='long'><p>CRUDE (req,res) method to respond to a Totem request</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>req</span> : Object<div class='sub-desc'><p>Totem session request</p>\n</div></li><li><span class='pre'>res</span> : Function<div class='sub-desc'><p>Totem responder</p>\n</div></li></ul></div></div></div><div id='cfg-dogs' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-dogs' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-dogs' class='name expandable'>dogs</a> : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Watchdogs {name: dog(sql, lims), ... ...</div><div class='long'><p>Watchdogs {name: dog(sql, lims), ... } run every dog.cycle seconds with a dog.trace message using\nspecified dog.parms.  When the watchdog is invoked it is given a sql connector and its lims attributes.</p>\n<p>Defaults to: <code>{}</code></p></div></div></div><div id='cfg-dsAttrs' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-dsAttrs' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-dsAttrs' class='name expandable'>dsAttrs</a> : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Reserved for dataset attributes derived by JSDB.config ...</div><div class='long'><p>Reserved for dataset attributes derived by JSDB.config</p>\n<p>Defaults to: <code>{}</code></p></div></div></div><div id='cfg-encrypt' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-encrypt' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-encrypt' class='name expandable'>encrypt</a> : <a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Cert passphrase to start encrypted service ...</div><div class='long'><p>Cert passphrase to start encrypted service</p>\n<p>Defaults to: <code>&quot;&quot;</code></p></div></div></div><div id='cfg-errors' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-errors' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-errors' class='name expandable'>errors</a> : Object<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'><p>Error messages</p>\n</div><div class='long'><p>Error messages</p>\n</div></div></div><div id='cfg-execute' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-execute' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-execute' class='name expandable'>execute</a> : Function<span class=\"signature\"></span></div><div class='description'><div class='short'>CRUDE (req,res) method to respond to a Totem request ...</div><div class='long'><p>CRUDE (req,res) method to respond to a Totem request</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>req</span> : Object<div class='sub-desc'><p>Totem session request</p>\n</div></li><li><span class='pre'>res</span> : Function<div class='sub-desc'><p>Totem responder</p>\n</div></li></ul></div></div></div><div id='cfg-fetchers' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-fetchers' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-fetchers' class='name expandable'>fetchers</a> : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Data fetcher X is used when a GET on X is requested. ...</div><div class='long'><p>Data fetcher X is used when a GET on X is requested.  Fetchers feed data pulled from the\nTOTEM.paths.url[req.table] URL (formatted by an optional plugin context) to its callback:</p>\n\n<pre><code>    X: cb(url, res),\n    X: cb(...),\n    ...\n    plugin: {\n        var: ...\n        var: ...\n        ...\n        method: function () {...}\n        method: function () {...}\n        ...\n    }\n</code></pre>\n</div></div></div><div id='cfg-guestProfile' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-guestProfile' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-guestProfile' class='name expandable'>guestProfile</a> : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Default guest profile (unencrypted or client profile not found) ...</div><div class='long'><p>Default guest profile (unencrypted or client profile not found)</p>\n<p>Defaults to: <code>{Banned: &quot;&quot;, QoS: 10000, Credit: 100, Charge: 0, LikeUs: 0, Challenge: 1, Client: &quot;guest@guest.org&quot;, User: &quot;guest@guest&quot;, Group: &quot;app&quot;, Repoll: true, Retries: 5, Timeout: 30, Message: &quot;Welcome guest - what is (riddle)?&quot;}</code></p></div></div></div><div id='cfg-host' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-host' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-host' class='name expandable'>host</a> : <a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Service host name ...</div><div class='long'><p>Service host name</p>\n<p>Defaults to: <code>&quot;localhost&quot;</code></p></div></div></div><div id='cfg-indexer' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-indexer' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-indexer' class='name expandable'>indexer</a> : Function<span class=\"signature\"></span></div><div class='description'><div class='short'><p>File indexer</p>\n</div><div class='long'><p>File indexer</p>\n</div></div></div><div id='cfg-insert' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-insert' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-insert' class='name expandable'>insert</a> : Function<span class=\"signature\"></span></div><div class='description'><div class='short'>CRUDE (req,res) method to respond to a Totem request ...</div><div class='long'><p>CRUDE (req,res) method to respond to a Totem request</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>req</span> : Object<div class='sub-desc'><p>Totem session request</p>\n</div></li><li><span class='pre'>res</span> : Function<div class='sub-desc'><p>Totem responder</p>\n</div></li></ul></div></div></div><div id='cfg-masterport' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-masterport' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-masterport' class='name expandable'>masterport</a> : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Port for master HTTP/HTTPS service. ...</div><div class='long'><p>Port for master HTTP/HTTPS service.  If cores>0, masterport should != workPort, master becomes HTTP server, and workers\nbecome HTTP/HTTPS depending on encrypt option.  In the coreless configuration, master become HTTP/HTTPS depending on\nencrypt option, and there are no workers.  In this way, a client can access stateless workers on the workerport, and stateful\nworkers via the masterport.</p>\n<p>Defaults to: <code>8080</code></p></div></div></div><div id='cfg-maxFiles' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-maxFiles' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-maxFiles' class='name expandable'>maxFiles</a> : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Max files to index by the indexer() method (0 disables). ...</div><div class='long'><p>Max files to index by the indexer() method (0 disables).</p>\n<p>Defaults to: <code>100</code></p></div></div></div><div id='cfg-mysql' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-mysql' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-mysql' class='name expandable'>mysql</a> : Object<span class=\"signature\"></span></div><div class='description'><div class='short'><p>Mysql connection options:</p>\n\n<pre><code>host: name\nuser: name\npass: phrase\nsessions: number\n</code></pre>\n</div><div class='long'><p>Mysql connection options:</p>\n\n<pre><code>host: name\nuser: name\npass: phrase\nsessions: number\n</code></pre>\n</div></div></div><div id='cfg-name' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-name' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-name' class='name expandable'>name</a> : <a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Name of this service used to\n    1) derive site parms from mysql openv.apps by Nick=name\n    2) set mysql name.table ...</div><div class='long'><p>Name of this service used to\n    1) derive site parms from mysql openv.apps by Nick=name\n    2) set mysql name.table for guest clients,\n    3) identify server cert name.pfx file.\nIf the Nick=name is not located in openv.apps, the supplied config() options are not overridden.</p>\n<p>Defaults to: <code>&quot;Totem&quot;</code></p></div></div></div><div id='cfg-nodeDivider' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-nodeDivider' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-nodeDivider' class='name expandable'>nodeDivider</a> : <a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Node divider NODE $$ NODE .... ...</div><div class='long'><p>Node divider NODE $$ NODE ....  (\"\" disables dividing).</p>\n<p>Defaults to: <code>&quot;$$&quot;</code></p></div></div></div><div id='cfg-nofaults' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-nofaults' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-nofaults' class='name expandable'>nofaults</a> : Boolean<span class=\"signature\"></span></div><div class='description'><div class='short'>Enable/disable service protection mode ...</div><div class='long'><p>Enable/disable service protection mode</p>\n<p>Defaults to: <code>false</code></p></div></div></div><div id='cfg-notify' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-notify' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-notify' class='name expandable'>notify</a> : Boolean<span class=\"signature\"></span></div><div class='description'><div class='short'>Enable/disable tracing of data fetchers ...</div><div class='long'><p>Enable/disable tracing of data fetchers</p>\n<p>Defaults to: <code>true</code></p></div></div></div><div id='cfg-paths' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-paths' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-paths' class='name expandable'>paths</a> : Object<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Default paths to service files ...</div><div class='long'><p>Default paths to service files</p>\n<p>Defaults to: <code>{default: &quot;files/&quot;, url: {wget: &quot;http://localhost:8081?return=${req.query.file}&amp;opt=${plugin.ex1(req)+plugin.ex2}&quot;, curl: &quot;http://localhost:8081?return=${req.query.file}&amp;opt=${plugin.ex1(req)+plugin.ex2}&quot;, http: &quot;http://localhost:8081?return=${req.query.file}&amp;opt=${plugin.ex1(req)+plugin.ex2}&quot;, socketio: &quot;/socket.io/socket.io.js&quot;, riddler: &quot;/riddle&quot;}, certs: &quot;./certs/&quot;, mysql: {users: &quot;SELECT 'user' AS Role, group_concat(DISTINCT dataset SEPARATOR ';') AS Contact FROM app.dblogs WHERE instr(dataset,'@')&quot;, derive: &quot;SELECT *, count(ID) AS Count FROM openv.apps WHERE ? LIMIT 0,1&quot;, record: &quot;INSERT INTO app.dblogs SET ? ON DUPLICATE KEY UPDATE Actions=Actions+1, Transfer=Transfer+?, Delay=Delay+?, Event=?&quot;, search: &quot;SELECT * FROM app.files HAVING Score &gt; 0.1&quot;, credit: &quot;SELECT * FROM app.files LEFT JOIN openv.profiles ON openv.profiles.Client = files.Client WHERE least(?) LIMIT 0,1&quot;, upsession: &quot;INSERT INTO openv.sessions SET ? ON DUPLICATE KEY UPDATE Connects=Connects+1,?&quot;, challenge: &quot;SELECT *,count(ID) as Count FROM openv.profiles WHERE least(?) LIMIT 0,1&quot;, guest: &quot;SELECT * FROM openv.profiles WHERE Client='guest' LIMIT 0,1&quot;, pocs: &quot;SELECT lower(Hawk) AS Role, group_concat(DISTINCT Client SEPARATOR ';') AS Contact FROM openv.roles GROUP BY hawk&quot;}, mime: {files: &quot;.&quot;, captcha: &quot;.&quot;, index: {files: &quot;indexer&quot;}, extensions: {}}}</code></p></div></div></div><div id='cfg-protect' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-protect' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-protect' class='name expandable'>protect</a> : Object<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Service protections when in nofaults mode ...</div><div class='long'><p>Service protections when in nofaults mode</p>\n<p>Defaults to: <code>{SIGUSR1: 1, SIGTERM: 1, SIGINT: 1, SIGPIPE: 1, SIGHUP: 1, SIGBREAK: 1, SIGWINCH: 1, SIGKILL: 1, SIGSTOP: 1}</code></p></div></div></div><div id='cfg-reqFlags' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-reqFlags' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-reqFlags' class='name expandable'>reqFlags</a> : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Options to parse request flags\n\n    traps: { flag:cb(query,flags), ...} // sets trap cb for a _flag=list to reorganiz...</div><div class='long'><p>Options to parse request flags</p>\n\n<pre><code>    traps: { flag:cb(query,flags), ...} // sets trap cb for a _flag=list to reorganize the query and flags hash,\n    edits: { flag:cb(list,data,req), ...} // sets data conversion cb for a _flag=list,\n    prefix:  \"_\"    // sets flag prefix\n</code></pre>\n<p>Defaults to: <code>{strips: {&quot;&quot;: 1, &quot;_&quot;: 1, leaf: 1, _dc: 1, id: 1, &quot;=&quot;: 1, &quot;?&quot;: 1, &quot;request&quot;: 1}, id: &quot;ID&quot;, prefix: &quot;_&quot;, trace: &quot;_trace&quot;}</code></p></div></div></div><div id='cfg-reqTypes' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-reqTypes' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-reqTypes' class='name expandable'>reqTypes</a> : Object<span class=\"signature\"></span></div><div class='description'><div class='short'><p>Endpoint reqTypes cb(ack data as string || error)</p>\n</div><div class='long'><p>Endpoint reqTypes cb(ack data as string || error)</p>\n</div></div></div><div id='cfg-retries' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-retries' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-retries' class='name expandable'>retries</a> : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Maximum number of retries the data fetcher will user ...</div><div class='long'><p>Maximum number of retries the data fetcher will user</p>\n<p>Defaults to: <code>5</code></p></div></div></div><div id='cfg-riddleMap' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-riddleMap' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-riddleMap' class='name expandable'>riddleMap</a> : Object<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Riddle digit-to-jpeg map (null to disable riddles) ...</div><div class='long'><p>Riddle digit-to-jpeg map (null to disable riddles)</p>\n<p>Defaults to: <code>{0: [&quot;10&quot;, &quot;210&quot;], 1: [&quot;30&quot;, &quot;60&quot;], 2: [&quot;50&quot;, &quot;160&quot;], 3: [&quot;70&quot;, &quot;100&quot;], 4: [&quot;20&quot;, &quot;90&quot;], 5: [&quot;00&quot;, &quot;110&quot;], 6: [&quot;130&quot;, &quot;180&quot;], 7: [&quot;150&quot;, &quot;290&quot;], 8: [&quot;170&quot;, &quot;310&quot;], 9: [&quot;40&quot;, &quot;190&quot;]}</code></p></div></div></div><div id='cfg-riddles' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-riddles' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-riddles' class='name expandable'>riddles</a> : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Number of riddles to protect site (0 to disable anti-bot) ...</div><div class='long'><p>Number of riddles to protect site (0 to disable anti-bot)</p>\n<p>Defaults to: <code>0</code></p></div></div></div><div id='cfg-select' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-select' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-select' class='name expandable'>select</a> : Function<span class=\"signature\"></span></div><div class='description'><div class='short'>CRUDE (req,res) method to respond to a Totem request ...</div><div class='long'><p>CRUDE (req,res) method to respond to a Totem request</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>req</span> : Object<div class='sub-desc'><p>Totem session request</p>\n</div></li><li><span class='pre'>res</span> : Function<div class='sub-desc'><p>Totem responder</p>\n</div></li></ul></div></div></div><div id='cfg-server' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-server' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-server' class='name expandable'>server</a> : Object<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'><p>CRUDE (req,res) method to respond to Totem request</p>\n</div><div class='long'><p>CRUDE (req,res) method to respond to Totem request</p>\n</div></div></div><div id='cfg-setContext' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-setContext' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-setContext' class='name expandable'>setContext</a> : Function<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'><p>Sets the site context parameters available in <a href=\"#!/api/TOTEM-cfg-site\" rel=\"TOTEM-cfg-site\" class=\"docClass\">TOTEM.site</a>.</p>\n</div><div class='long'><p>Sets the site context parameters available in <a href=\"#!/api/TOTEM-cfg-site\" rel=\"TOTEM-cfg-site\" class=\"docClass\">TOTEM.site</a>.</p>\n</div></div></div><div id='cfg-site' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-site' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-site' class='name expandable'>site</a> : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Site context extended by the mysql derived query when service starts ...</div><div class='long'><p>Site context extended by the mysql derived query when service starts</p>\n<p>Defaults to: <code>{}</code></p></div></div></div><div id='cfg-started' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-started' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-started' class='name expandable'>started</a> : Date<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'><p>totem start time</p>\n</div><div class='long'><p>totem start time</p>\n</div></div></div><div id='cfg-stop' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-stop' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-stop' class='name expandable'>stop</a> : Function<span class=\"signature\"></span></div><div class='description'><div class='short'><p>Stop the server.</p>\n</div><div class='long'><p>Stop the server.</p>\n</div></div></div><div id='cfg-trust' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-trust' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-trust' class='name expandable'>trust</a> : Object<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Trust store extened with certs in the certs.truststore folder when the service starts in encrypted mode ...</div><div class='long'><p>Trust store extened with certs in the certs.truststore folder when the service starts in encrypted mode</p>\n<p>Defaults to: <code>[]</code></p></div></div></div><div id='cfg-update' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-update' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-update' class='name expandable'>update</a> : Function<span class=\"signature\"></span></div><div class='description'><div class='short'>CRUDE (req,res) method to respond to a Totem request ...</div><div class='long'><p>CRUDE (req,res) method to respond to a Totem request</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>req</span> : Object<div class='sub-desc'><p>Totem session request</p>\n</div></li><li><span class='pre'>res</span> : Function<div class='sub-desc'><p>Totem responder</p>\n</div></li></ul></div></div></div><div id='cfg-uploader' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-uploader' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-uploader' class='name expandable'>uploader</a> : Function<span class=\"signature\"></span></div><div class='description'><div class='short'><p>File uploader</p>\n</div><div class='long'><p>File uploader</p>\n</div></div></div><div id='cfg-validator' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-validator' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-validator' class='name expandable'>validator</a> : Function<span class=\"signature\"></span></div><div class='description'><div class='short'><p>Additional session validator(req,res) responds will null if client validated, otherwise\nresponds with an error.</p>\n</div><div class='long'><p>Additional session validator(req,res) responds will null if client validated, otherwise\nresponds with an error.</p>\n</div></div></div><div id='cfg-watch' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-watch' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-watch' class='name expandable'>watch</a> : Obect<span class=\"signature\"></span></div><div class='description'><div class='short'>Folder watching callbacks cb(path) ...</div><div class='long'><p>Folder watching callbacks cb(path)</p>\n<p>Defaults to: <code>{}</code></p></div></div></div><div id='cfg-workerport' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-cfg-workerport' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-cfg-workerport' class='name expandable'>workerport</a> : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Port for worker HTTP/HTTPS service. ...</div><div class='long'><p>Port for worker HTTP/HTTPS service.  If cores>0, masterport should != workPort, master becomes HTTP server, and workers\nbecome HTTP/HTTPS depending on encrypt option.  In the coreless configuration, master become HTTP/HTTPS depending on\nencrypt option, and there are no workers.  In this way, a client can access stateless workers on the workerport, and stateful\nworkers via the masterport.</p>\n<p>Defaults to: <code>8443</code></p></div></div></div></div></div><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-Initialize' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-method-Initialize' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-method-Initialize' class='name expandable'>Initialize</a>( <span class='pre'></span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Initialize TOTEM. ...</div><div class='long'><p>Initialize TOTEM.</p>\n</div></div></div><div id='method-configService' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-method-configService' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-method-configService' class='name expandable'>configService</a>( <span class='pre'>opts, cb</span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Configure, protect, connect, then start this server. ...</div><div class='long'><p>Configure, protect, connect, then start this server.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>opts</span> : Object<div class='sub-desc'><p>configuration options following the ENUM.Copy() conventions.</p>\n</div></li><li><span class='pre'>cb</span> : Function<div class='sub-desc'><p>callback() after service configured</p>\n</div></li></ul></div></div></div><div id='method-connectService' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-method-connectService' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-method-connectService' class='name expandable'>connectService</a>( <span class='pre'>cb</span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>If the TOTEM server already connected, inherit the server; otherwise\ndefine an the apprpriate http interface (https i...</div><div class='long'><p>If the TOTEM server already connected, inherit the server; otherwise\ndefine an the apprpriate http interface (https if encrypted,\nhttp if unencrypted), then start the server.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>cb</span> : Function<div class='sub-desc'><p>callback when done</p>\n</div></li></ul></div></div></div><div id='method-deleteDS' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-method-deleteDS' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-method-deleteDS' class='name expandable'>deleteDS</a>( <span class='pre'>req, res</span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>req</span> : Object<div class='sub-desc'><p>Totem's request</p>\n</div></li><li><span class='pre'>res</span> : Function<div class='sub-desc'><p>Totem's response callback</p>\n</div></li></ul></div></div></div><div id='method-executeDS' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-method-executeDS' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-method-executeDS' class='name expandable'>executeDS</a>( <span class='pre'>req, res</span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>req</span> : Object<div class='sub-desc'><p>Totem's request</p>\n</div></li><li><span class='pre'>res</span> : Function<div class='sub-desc'><p>Totem's response callback</p>\n</div></li></ul></div></div></div><div id='method-insertDS' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-method-insertDS' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-method-insertDS' class='name expandable'>insertDS</a>( <span class='pre'>req, res</span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>req</span> : Object<div class='sub-desc'><p>Totem's request</p>\n</div></li><li><span class='pre'>res</span> : Function<div class='sub-desc'><p>Totem's response callback</p>\n</div></li></ul></div></div></div><div id='method-protectService' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-method-protectService' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-method-protectService' class='name expandable'>protectService</a>( <span class='pre'>cb</span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Create the server's PKI certs (if they dont exist), setup its urls, then connect the service. ...</div><div class='long'><p>Create the server's PKI certs (if they dont exist), setup its urls, then connect the service.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>cb</span> : Function<div class='sub-desc'><p>callback when done</p>\n</div></li></ul></div></div></div><div id='method-startService' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-method-startService' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-method-startService' class='name expandable'>startService</a>( <span class='pre'>server, cb</span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Attach the responder to this server then initialized. ...</div><div class='long'><p>Attach the responder to this server then initialized.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>server</span> : Object<div class='sub-desc'><p>HTTP/HTTP server</p>\n</div></li><li><span class='pre'>cb</span> : Function<div class='sub-desc'><p>callback(err) when service initialized.</p>\n</div></li></ul></div></div></div><div id='method-stopService' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-method-stopService' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-method-stopService' class='name expandable'>stopService</a>( <span class='pre'></span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Stop the server. ...</div><div class='long'><p>Stop the server.</p>\n</div></div></div><div id='method-tag' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-method-tag' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-method-tag' class='name expandable'>tag</a>( <span class='pre'>el, at</span> ) : <a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a><span class=\"signature\"></span></div><div class='description'><div class='short'>Tag url (el=\"?\") or tag html using specified attributes. ...</div><div class='long'><p>Tag url (el=\"?\") or tag html using specified attributes.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>el</span> : <a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a><div class='sub-desc'><p>tag element</p>\n</div></li><li><span class='pre'>at</span> : <a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a><div class='sub-desc'><p>tag attributes</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a></span><div class='sub-desc'><p>tagged results</p>\n</div></li></ul></div></div></div><div id='method-thread' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-method-thread' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-method-thread' class='name expandable'>thread</a>( <span class='pre'>cb</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Thread a new sql connection to a callback. ...</div><div class='long'><p>Thread a new sql connection to a callback.  Unless overridden, will default to the JSDB thread method.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>cb</span> : Function<div class='sub-desc'><p>callback(sql connector)</p>\n</div></li></ul></div></div></div><div id='method-updateDS' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-method-updateDS' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-method-updateDS' class='name expandable'>updateDS</a>( <span class='pre'>req, res</span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>req</span> : Object<div class='sub-desc'><p>Totem's request</p>\n</div></li><li><span class='pre'>res</span> : Function<div class='sub-desc'><p>Totem's response callback</p>\n</div></li></ul></div></div></div><div id='method-watchFile' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='TOTEM'>TOTEM</span><br/><a href='source/totem.html#TOTEM-method-watchFile' target='_blank' class='view-source'>view source</a></div><a href='#!/api/TOTEM-method-watchFile' class='name expandable'>watchFile</a>( <span class='pre'>area, name, callback</span> )<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>Establish smart file watcher when file at area/name has changed. ...</div><div class='long'><p>Establish smart file watcher when file at area/name has changed.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>area</span> : <a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a><div class='sub-desc'><p>Name of folder being watched</p>\n</div></li><li><span class='pre'>name</span> : <a href=\"#!/api/String\" rel=\"String\" class=\"docClass\">String</a><div class='sub-desc'><p>Name of file being watched</p>\n</div></li><li><span class='pre'>callback</span> : Function<div class='sub-desc'><p>cb(sql, name, path) when file at path has changed</p>\n</div></li></ul></div></div></div></div></div></div></div>","meta":{}});